{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Leo\\\\OneDrive\\\\Documentos\\\\Faculdade INSA\\\\Blockchain\\\\project\\\\flash-loan-project\\\\frontend\\\\src\\\\components\\\\ProfitCalculator.tsx\",\n  _s = $RefreshSig$();\nimport React, { useMemo } from 'react';\nimport { ethers } from 'ethers';\nimport { DAI_ADDRESS, AAVE_FLASH_LOAN_FEE_BPS } from '../utils/constants';\nimport { formatTokenAmount, formatPercentage } from '../utils/formatters';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ProfitCalculator = ({\n  ammInfo,\n  selectedToken,\n  amount,\n  slippageBps\n}) => {\n  _s();\n  const calculation = useMemo(() => {\n    if (!ammInfo || !amount || parseFloat(amount) <= 0) {\n      return null;\n    }\n    try {\n      const amountWei = ethers.parseEther(amount);\n      const amountNum = Number(amountWei);\n      const {\n        dexA,\n        dexB\n      } = ammInfo;\n      const isDAI = selectedToken === DAI_ADDRESS;\n\n      // Flash loan fee (0.05%)\n      const flashLoanFee = amountNum * AAVE_FLASH_LOAN_FEE_BPS / 10000;\n\n      // Determine which DEX to buy from and which to sell\n      let buyDex;\n      let sellDex;\n      if (isDAI) {\n        // DAI -> WETH -> DAI\n        // Higher price = cheaper WETH (more WETH per DAI) = buy here\n        if (Number(dexA.price) > Number(dexB.price)) {\n          buyDex = dexA;\n          sellDex = dexB;\n        } else {\n          buyDex = dexB;\n          sellDex = dexA;\n        }\n\n        // Calculate swap 1: DAI -> WETH (at buyDex)\n        const daiInWithFee = amountNum * 997 / 1000;\n        const daiReserveBuy = Number(buyDex.daiBalance);\n        const wethReserveBuy = Number(buyDex.wethBalance);\n        const wethOut = wethReserveBuy * daiInWithFee / (daiReserveBuy + daiInWithFee);\n\n        // Calculate swap 2: WETH -> DAI (at sellDex)\n        const wethInWithFee = wethOut * 997 / 1000;\n        const daiReserveSell = Number(sellDex.daiBalance);\n        const wethReserveSell = Number(sellDex.wethBalance);\n        const daiOut = daiReserveSell * wethInWithFee / (wethReserveSell + wethInWithFee);\n\n        // Total required to repay\n        const totalDebt = amountNum + flashLoanFee;\n\n        // Gross profit before slippage consideration\n        const grossProfit = daiOut - totalDebt;\n\n        // Slippage buffer\n        const slippageAmount = Math.abs(grossProfit) * slippageBps / 10000;\n\n        // Net profit\n        const netProfit = grossProfit - slippageAmount;\n        const profitPercentage = netProfit / amountNum * 100;\n        return {\n          loanAmount: amountNum,\n          flashLoanFee,\n          totalDebt,\n          step1Output: wethOut,\n          step2Output: daiOut,\n          grossProfit,\n          slippageAmount,\n          netProfit,\n          profitPercentage,\n          isProfitable: netProfit > 0,\n          buyDex: buyDex.name,\n          sellDex: sellDex.name,\n          tokenIn: 'DAI',\n          tokenMid: 'WETH',\n          tokenOut: 'DAI'\n        };\n      } else {\n        // WETH -> DAI -> WETH\n        // Lower price = cheaper DAI (less WETH per DAI = more DAI per WETH) = sell WETH here\n        if (Number(dexA.price) < Number(dexB.price)) {\n          sellDex = dexA;\n          buyDex = dexB;\n        } else {\n          sellDex = dexB;\n          buyDex = dexA;\n        }\n\n        // Calculate swap 1: WETH -> DAI (at sellDex)\n        const wethInWithFee = amountNum * 997 / 1000;\n        const daiReserveSell = Number(sellDex.daiBalance);\n        const wethReserveSell = Number(sellDex.wethBalance);\n        const daiOut = daiReserveSell * wethInWithFee / (wethReserveSell + wethInWithFee);\n\n        // Calculate swap 2: DAI -> WETH (at buyDex)\n        const daiInWithFee = daiOut * 997 / 1000;\n        const daiReserveBuy = Number(buyDex.daiBalance);\n        const wethReserveBuy = Number(buyDex.wethBalance);\n        const wethOut = wethReserveBuy * daiInWithFee / (daiReserveBuy + daiInWithFee);\n\n        // Total required to repay\n        const totalDebt = amountNum + flashLoanFee;\n\n        // Gross profit\n        const grossProfit = wethOut - totalDebt;\n\n        // Slippage buffer\n        const slippageAmount = Math.abs(grossProfit) * slippageBps / 10000;\n\n        // Net profit\n        const netProfit = grossProfit - slippageAmount;\n        const profitPercentage = netProfit / amountNum * 100;\n        return {\n          loanAmount: amountNum,\n          flashLoanFee,\n          totalDebt,\n          step1Output: daiOut,\n          step2Output: wethOut,\n          grossProfit,\n          slippageAmount,\n          netProfit,\n          profitPercentage,\n          isProfitable: netProfit > 0,\n          buyDex: buyDex.name,\n          sellDex: sellDex.name,\n          tokenIn: 'WETH',\n          tokenMid: 'DAI',\n          tokenOut: 'WETH'\n        };\n      }\n    } catch {\n      return null;\n    }\n  }, [ammInfo, selectedToken, amount, slippageBps]);\n  if (!calculation) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profit-calculator card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Profit Estimation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-state\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: 'var(--text-muted)'\n          },\n          children: \"Enter a loan amount to see profit estimation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this);\n  }\n  const formatWei = value => {\n    return formatTokenAmount(BigInt(Math.floor(value)));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profit-calculator card\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Profit Estimation\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profit-breakdown\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profit-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"profit-label\",\n          children: \"Flash Loan Amount\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"profit-value\",\n          children: [formatWei(calculation.loanAmount), \" \", calculation.tokenIn]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profit-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"profit-label\",\n          children: \"Aave Flash Loan Fee (0.05%)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"profit-value\",\n          children: [formatWei(calculation.flashLoanFee), \" \", calculation.tokenIn]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profit-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"profit-label\",\n          children: [\"Step 1: \", calculation.tokenIn, \" \\u2192 \", calculation.tokenMid, \" (\", calculation.buyDex, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"profit-value\",\n          children: [formatWei(calculation.step1Output), \" \", calculation.tokenMid]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profit-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"profit-label\",\n          children: [\"Step 2: \", calculation.tokenMid, \" \\u2192 \", calculation.tokenOut, \" (\", calculation.sellDex, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"profit-value\",\n          children: [formatWei(calculation.step2Output), \" \", calculation.tokenOut]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profit-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"profit-label\",\n          children: \"Total Debt (Loan + Fee)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"profit-value\",\n          children: [formatWei(calculation.totalDebt), \" \", calculation.tokenOut]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profit-row warning\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"profit-label\",\n          children: [\"Slippage Buffer (\", (slippageBps / 100).toFixed(2), \"%)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"profit-value\",\n          children: [\"-\", formatWei(calculation.slippageAmount), \" \", calculation.tokenOut]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `profit-row ${calculation.isProfitable ? 'highlight' : 'negative'}`,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"profit-label\",\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Estimated Net Profit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: `profit-value ${calculation.netProfit >= 0 ? 'positive' : 'negative'}`,\n          children: [calculation.netProfit >= 0 ? '+' : '', formatWei(calculation.netProfit), \" \", calculation.tokenOut, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontSize: '0.75rem'\n            },\n            children: [\"(\", formatPercentage(calculation.profitPercentage), \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }, this), !calculation.isProfitable && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '1rem',\n        padding: '0.75rem',\n        background: 'rgba(239, 68, 68, 0.1)',\n        borderRadius: '8px',\n        fontSize: '0.875rem',\n        color: 'var(--error)'\n      },\n      children: \"This arbitrage is not profitable with current prices. The transaction will revert.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 171,\n    columnNumber: 5\n  }, this);\n};\n_s(ProfitCalculator, \"7HVcQI9GvzPk8JpivXT7QNkfN/U=\");\n_c = ProfitCalculator;\nexport default ProfitCalculator;\nvar _c;\n$RefreshReg$(_c, \"ProfitCalculator\");","map":{"version":3,"names":["React","useMemo","ethers","DAI_ADDRESS","AAVE_FLASH_LOAN_FEE_BPS","formatTokenAmount","formatPercentage","jsxDEV","_jsxDEV","ProfitCalculator","ammInfo","selectedToken","amount","slippageBps","_s","calculation","parseFloat","amountWei","parseEther","amountNum","Number","dexA","dexB","isDAI","flashLoanFee","buyDex","sellDex","price","daiInWithFee","daiReserveBuy","daiBalance","wethReserveBuy","wethBalance","wethOut","wethInWithFee","daiReserveSell","wethReserveSell","daiOut","totalDebt","grossProfit","slippageAmount","Math","abs","netProfit","profitPercentage","loanAmount","step1Output","step2Output","isProfitable","name","tokenIn","tokenMid","tokenOut","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","color","formatWei","value","BigInt","floor","toFixed","fontSize","marginTop","padding","background","borderRadius","_c","$RefreshReg$"],"sources":["C:/Users/Leo/OneDrive/Documentos/Faculdade INSA/Blockchain/project/flash-loan-project/frontend/src/components/ProfitCalculator.tsx"],"sourcesContent":["import React, { useMemo } from 'react';\r\nimport { ethers } from 'ethers';\r\nimport { AMMInfo } from '../types';\r\nimport { DAI_ADDRESS, AAVE_FLASH_LOAN_FEE_BPS } from '../utils/constants';\r\nimport { formatTokenAmount, formatPercentage } from '../utils/formatters';\r\n\r\ninterface ProfitCalculatorProps {\r\n  ammInfo: AMMInfo | null;\r\n  selectedToken: string;\r\n  amount: string;\r\n  slippageBps: number;\r\n}\r\n\r\nexport const ProfitCalculator: React.FC<ProfitCalculatorProps> = ({\r\n  ammInfo,\r\n  selectedToken,\r\n  amount,\r\n  slippageBps,\r\n}) => {\r\n  const calculation = useMemo(() => {\r\n    if (!ammInfo || !amount || parseFloat(amount) <= 0) {\r\n      return null;\r\n    }\r\n\r\n    try {\r\n      const amountWei = ethers.parseEther(amount);\r\n      const amountNum = Number(amountWei);\r\n\r\n      const { dexA, dexB } = ammInfo;\r\n      const isDAI = selectedToken === DAI_ADDRESS;\r\n\r\n      // Flash loan fee (0.05%)\r\n      const flashLoanFee = (amountNum * AAVE_FLASH_LOAN_FEE_BPS) / 10000;\r\n\r\n      // Determine which DEX to buy from and which to sell\r\n      let buyDex: typeof dexA;\r\n      let sellDex: typeof dexB;\r\n\r\n      if (isDAI) {\r\n        // DAI -> WETH -> DAI\r\n        // Higher price = cheaper WETH (more WETH per DAI) = buy here\r\n        if (Number(dexA.price) > Number(dexB.price)) {\r\n          buyDex = dexA;\r\n          sellDex = dexB;\r\n        } else {\r\n          buyDex = dexB;\r\n          sellDex = dexA;\r\n        }\r\n\r\n        // Calculate swap 1: DAI -> WETH (at buyDex)\r\n        const daiInWithFee = (amountNum * 997) / 1000;\r\n        const daiReserveBuy = Number(buyDex.daiBalance);\r\n        const wethReserveBuy = Number(buyDex.wethBalance);\r\n        const wethOut = (wethReserveBuy * daiInWithFee) / (daiReserveBuy + daiInWithFee);\r\n\r\n        // Calculate swap 2: WETH -> DAI (at sellDex)\r\n        const wethInWithFee = (wethOut * 997) / 1000;\r\n        const daiReserveSell = Number(sellDex.daiBalance);\r\n        const wethReserveSell = Number(sellDex.wethBalance);\r\n        const daiOut = (daiReserveSell * wethInWithFee) / (wethReserveSell + wethInWithFee);\r\n\r\n        // Total required to repay\r\n        const totalDebt = amountNum + flashLoanFee;\r\n\r\n        // Gross profit before slippage consideration\r\n        const grossProfit = daiOut - totalDebt;\r\n\r\n        // Slippage buffer\r\n        const slippageAmount = (Math.abs(grossProfit) * slippageBps) / 10000;\r\n\r\n        // Net profit\r\n        const netProfit = grossProfit - slippageAmount;\r\n\r\n        const profitPercentage = (netProfit / amountNum) * 100;\r\n\r\n        return {\r\n          loanAmount: amountNum,\r\n          flashLoanFee,\r\n          totalDebt,\r\n          step1Output: wethOut,\r\n          step2Output: daiOut,\r\n          grossProfit,\r\n          slippageAmount,\r\n          netProfit,\r\n          profitPercentage,\r\n          isProfitable: netProfit > 0,\r\n          buyDex: buyDex.name,\r\n          sellDex: sellDex.name,\r\n          tokenIn: 'DAI',\r\n          tokenMid: 'WETH',\r\n          tokenOut: 'DAI',\r\n        };\r\n      } else {\r\n        // WETH -> DAI -> WETH\r\n        // Lower price = cheaper DAI (less WETH per DAI = more DAI per WETH) = sell WETH here\r\n        if (Number(dexA.price) < Number(dexB.price)) {\r\n          sellDex = dexA;\r\n          buyDex = dexB;\r\n        } else {\r\n          sellDex = dexB;\r\n          buyDex = dexA;\r\n        }\r\n\r\n        // Calculate swap 1: WETH -> DAI (at sellDex)\r\n        const wethInWithFee = (amountNum * 997) / 1000;\r\n        const daiReserveSell = Number(sellDex.daiBalance);\r\n        const wethReserveSell = Number(sellDex.wethBalance);\r\n        const daiOut = (daiReserveSell * wethInWithFee) / (wethReserveSell + wethInWithFee);\r\n\r\n        // Calculate swap 2: DAI -> WETH (at buyDex)\r\n        const daiInWithFee = (daiOut * 997) / 1000;\r\n        const daiReserveBuy = Number(buyDex.daiBalance);\r\n        const wethReserveBuy = Number(buyDex.wethBalance);\r\n        const wethOut = (wethReserveBuy * daiInWithFee) / (daiReserveBuy + daiInWithFee);\r\n\r\n        // Total required to repay\r\n        const totalDebt = amountNum + flashLoanFee;\r\n\r\n        // Gross profit\r\n        const grossProfit = wethOut - totalDebt;\r\n\r\n        // Slippage buffer\r\n        const slippageAmount = (Math.abs(grossProfit) * slippageBps) / 10000;\r\n\r\n        // Net profit\r\n        const netProfit = grossProfit - slippageAmount;\r\n\r\n        const profitPercentage = (netProfit / amountNum) * 100;\r\n\r\n        return {\r\n          loanAmount: amountNum,\r\n          flashLoanFee,\r\n          totalDebt,\r\n          step1Output: daiOut,\r\n          step2Output: wethOut,\r\n          grossProfit,\r\n          slippageAmount,\r\n          netProfit,\r\n          profitPercentage,\r\n          isProfitable: netProfit > 0,\r\n          buyDex: buyDex.name,\r\n          sellDex: sellDex.name,\r\n          tokenIn: 'WETH',\r\n          tokenMid: 'DAI',\r\n          tokenOut: 'WETH',\r\n        };\r\n      }\r\n    } catch {\r\n      return null;\r\n    }\r\n  }, [ammInfo, selectedToken, amount, slippageBps]);\r\n\r\n  if (!calculation) {\r\n    return (\r\n      <div className=\"profit-calculator card\">\r\n        <h3>Profit Estimation</h3>\r\n        <div className=\"empty-state\">\r\n          <p style={{ color: 'var(--text-muted)' }}>\r\n            Enter a loan amount to see profit estimation\r\n          </p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const formatWei = (value: number) => {\r\n    return formatTokenAmount(BigInt(Math.floor(value)));\r\n  };\r\n\r\n  return (\r\n    <div className=\"profit-calculator card\">\r\n      <h3>Profit Estimation</h3>\r\n\r\n      <div className=\"profit-breakdown\">\r\n        <div className=\"profit-row\">\r\n          <span className=\"profit-label\">Flash Loan Amount</span>\r\n          <span className=\"profit-value\">{formatWei(calculation.loanAmount)} {calculation.tokenIn}</span>\r\n        </div>\r\n\r\n        <div className=\"profit-row\">\r\n          <span className=\"profit-label\">Aave Flash Loan Fee (0.05%)</span>\r\n          <span className=\"profit-value\">{formatWei(calculation.flashLoanFee)} {calculation.tokenIn}</span>\r\n        </div>\r\n\r\n        <div className=\"profit-row\">\r\n          <span className=\"profit-label\">\r\n            Step 1: {calculation.tokenIn} &rarr; {calculation.tokenMid} ({calculation.buyDex})\r\n          </span>\r\n          <span className=\"profit-value\">{formatWei(calculation.step1Output)} {calculation.tokenMid}</span>\r\n        </div>\r\n\r\n        <div className=\"profit-row\">\r\n          <span className=\"profit-label\">\r\n            Step 2: {calculation.tokenMid} &rarr; {calculation.tokenOut} ({calculation.sellDex})\r\n          </span>\r\n          <span className=\"profit-value\">{formatWei(calculation.step2Output)} {calculation.tokenOut}</span>\r\n        </div>\r\n\r\n        <div className=\"profit-row\">\r\n          <span className=\"profit-label\">Total Debt (Loan + Fee)</span>\r\n          <span className=\"profit-value\">{formatWei(calculation.totalDebt)} {calculation.tokenOut}</span>\r\n        </div>\r\n\r\n        <div className=\"profit-row warning\">\r\n          <span className=\"profit-label\">Slippage Buffer ({(slippageBps / 100).toFixed(2)}%)</span>\r\n          <span className=\"profit-value\">-{formatWei(calculation.slippageAmount)} {calculation.tokenOut}</span>\r\n        </div>\r\n\r\n        <div className={`profit-row ${calculation.isProfitable ? 'highlight' : 'negative'}`}>\r\n          <span className=\"profit-label\">\r\n            <strong>Estimated Net Profit</strong>\r\n          </span>\r\n          <span className={`profit-value ${calculation.netProfit >= 0 ? 'positive' : 'negative'}`}>\r\n            {calculation.netProfit >= 0 ? '+' : ''}{formatWei(calculation.netProfit)} {calculation.tokenOut}\r\n            <br />\r\n            <span style={{ fontSize: '0.75rem' }}>\r\n              ({formatPercentage(calculation.profitPercentage)})\r\n            </span>\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      {!calculation.isProfitable && (\r\n        <div style={{\r\n          marginTop: '1rem',\r\n          padding: '0.75rem',\r\n          background: 'rgba(239, 68, 68, 0.1)',\r\n          borderRadius: '8px',\r\n          fontSize: '0.875rem',\r\n          color: 'var(--error)'\r\n        }}>\r\n          This arbitrage is not profitable with current prices. The transaction will revert.\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfitCalculator;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}